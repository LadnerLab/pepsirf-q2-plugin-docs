<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Ps-plot Tutorials - Multiple Interface Edition &#8212; Q2 Pepsirf Plugin Docs  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/style.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/external-links.js"></script>
    <script src="../../_static/usage.js"></script>
    <link rel="canonical" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/tutorials/ps-plot.html" />
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Available plugins" href="../../plugins/" />
    <link rel="prev" title="DiffEnrich Analysis Tutorial - Multiple Interface Edition" href="../pepsirf-tutorial/" />
  <script src="../../_static/bootstrap.min.js"></script>
  <script src="../../_static/clipboard.min.js"></script>
  <link rel="icon" href="../../_static/favicon.ico" type="image/png" />
  <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" media="screen" />
  <link rel="stylesheet" href="../../_static/css/normalize.css" media="screen">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  </head><body>
  <div id="wrapper" class="container clearfix">
    <div id="header">
      <a href="/pepsirf-q2-plugin-docs/">
        <img
          class="img-responsive"
          src="../../_static/PepSIRF_Q2.png" alt="QIIME 2 Docs"
        />
      </a>
    </div>
    <div id="content">
      
      <div id="body" class="col-lg-10 col-md-10 col-sm-12 col-xs-12 main pull-right">
        
  <section id="ps-plot-tutorials-multiple-interface-edition">
<h1>Ps-plot Tutorials - Multiple Interface Edition<a class="headerlink" href="#ps-plot-tutorials-multiple-interface-edition" title="Permalink to this headline">¶</a></h1>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This guide is a preview of how you can use some of q2-ps-plot’s individual modules.</p>
</section>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>In this tutorial you’ll use QIIME 2 to perform an analysis of some data.</p>
<p>Typical Run Time: TBD Minutes</p>
</section>
<section id="protein-alignment">
<h2>Protein Alignment<a class="headerlink" href="#protein-alignment" title="Permalink to this headline">¶</a></h2>
<script id="interfaces" type="application/json">{"default": "cli-usage", "available": {"python3-usage": ["Python 3 API (qiime2)", true], "cli-usage": ["Command Line (q2cli)", true], "galaxy-usage": ["Galaxy (q2galaxy)", true], "raw-usage": ["View Source (qiime2.sdk)", false]}, "classes": [".python3-usage", ".cli-usage", ".galaxy-usage", ".raw-usage"]}</script><span class="usage-selector"></span><p>Here we will test q2-ps-plot’s proteinHeatmap module by running the following command:</p>
<div class="python3-usage highlight-default notranslate" id="usage-0"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qiime2</span> <span class="kn">import</span> <span class="n">Artifact</span>
<span class="kn">from</span> <span class="nn">urllib</span> <span class="kn">import</span> <span class="n">request</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/prot-align.qza&#39;</span>
<span class="n">fn</span> <span class="o">=</span> <span class="s1">&#39;prot-align.qza&#39;</span>
<span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
<span class="n">prot_align</span> <span class="o">=</span> <span class="n">Artifact</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/peptide-enrichment.qza&#39;</span>
<span class="n">fn</span> <span class="o">=</span> <span class="s1">&#39;peptide-enrichment.qza&#39;</span>
<span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
<span class="n">peptide_enrichment</span> <span class="o">=</span> <span class="n">Artifact</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
</pre></div>
</div>
<div class="cli-usage highlight-default notranslate" id="usage-1"><div class="highlight"><pre><span></span><span class="n">wget</span> \
  <span class="o">-</span><span class="n">O</span> <span class="s1">&#39;prot-align.qza&#39;</span> \
  <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/prot-align.qza&#39;</span>

<span class="n">wget</span> \
  <span class="o">-</span><span class="n">O</span> <span class="s1">&#39;peptide-enrichment.qza&#39;</span> \
  <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/peptide-enrichment.qza&#39;</span>
</pre></div>
</div>
<div class="raw-usage highlight-default notranslate" id="usage-4"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">prot_align_factory</span><span class="p">():</span>
   <span class="kn">import</span> <span class="nn">qiime2</span>
   <span class="k">return</span> <span class="n">qiime2</span><span class="o">.</span><span class="n">Artifact</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;source/data/alignmentFiles_dir.qza&quot;</span><span class="p">)</span>

<span class="n">prot_align</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">init_artifact</span><span class="p">(</span><span class="s2">&quot;prot_align&quot;</span><span class="p">,</span> <span class="n">prot_align_factory</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">enrichment_factory</span><span class="p">():</span>
   <span class="kn">import</span> <span class="nn">qiime2</span>
   <span class="k">return</span> <span class="n">qiime2</span><span class="o">.</span><span class="n">Artifact</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;source/data/10Z-HDI95_0CS_400000raw_dir.qza&quot;</span><span class="p">)</span>

<span class="n">peptide_enrichment</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">init_artifact</span><span class="p">(</span><span class="s2">&quot;peptide_enrichment&quot;</span><span class="p">,</span> <span class="n">enrichment_factory</span><span class="p">)</span>
</pre></div>
</div>
<div class="galaxy-usage compound" id="usage-2">
<dl class="simple">
<dt>Using the <code class="docutils literal notranslate"><span class="pre">Upload</span> <span class="pre">Data</span></code> tool:</dt><dd><ol class="arabic simple">
<li><p>On the first tab (<strong>Regular</strong>), press the <code class="docutils literal notranslate"><span class="pre">Paste/Fetch</span></code> data button at the bottom.</p>
<ol class="arabic simple">
<li><p>Set <em>“Name”</em> (first text-field) to: <code class="docutils literal notranslate"><span class="pre">prot-align.qza</span></code></p></li>
<li><p>In the larger text-area, copy-and-paste: <a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/prot-align.qza">https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/prot-align.qza</a></p></li>
<li><p>(<em>“Type”</em>, <em>“Genome”</em>, and <em>“Settings”</em> can be ignored)</p></li>
</ol>
</li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Start</span></code> button at the bottom.</p></li>
</ol>
</dd>
<dt>Using the <code class="docutils literal notranslate"><span class="pre">Upload</span> <span class="pre">Data</span></code> tool:</dt><dd><ol class="arabic simple">
<li><p>On the first tab (<strong>Regular</strong>), press the <code class="docutils literal notranslate"><span class="pre">Paste/Fetch</span></code> data button at the bottom.</p>
<ol class="arabic simple">
<li><p>Set <em>“Name”</em> (first text-field) to: <code class="docutils literal notranslate"><span class="pre">peptide-enrichment.qza</span></code></p></li>
<li><p>In the larger text-area, copy-and-paste: <a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/peptide-enrichment.qza">https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/peptide-enrichment.qza</a></p></li>
<li><p>(<em>“Type”</em>, <em>“Genome”</em>, and <em>“Settings”</em> can be ignored)</p></li>
</ol>
</li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Start</span></code> button at the bottom.</p></li>
</ol>
</dd>
</dl>
</div>
<div class="exec-usage compound" id="usage-3">
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">prot-align.qza</span></code><span> | </span><a class="reference external" href="https://view.qiime2.org?src=https%3A%2F%2Fladnerlab.github.io%2Fpepsirf-q2-plugin-docs%2Fdata%2Ftutorials%2Fps-plot%2Fprot-align.qza"><span>view</span></a><span> | </span><a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/prot-align.qza"><span>download</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">peptide-enrichment.qza</span></code><span> | </span><a class="reference external" href="https://view.qiime2.org?src=https%3A%2F%2Fladnerlab.github.io%2Fpepsirf-q2-plugin-docs%2Fdata%2Ftutorials%2Fps-plot%2Fpeptide-enrichment.qza"><span>view</span></a><span> | </span><a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/peptide-enrichment.qza"><span>download</span></a></p></li>
</ul>
</div>
<div class="python3-usage highlight-default notranslate" id="usage-5"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">qiime2.plugins.ps_plot.actions</span> <span class="k">as</span> <span class="nn">ps_plot_actions</span>

<span class="n">protein_heat_map_viz</span><span class="p">,</span> <span class="o">=</span> <span class="n">ps_plot_actions</span><span class="o">.</span><span class="n">proteinHeatmap</span><span class="p">(</span>
    <span class="n">enriched_dir</span><span class="o">=</span><span class="n">peptide_enrichment</span><span class="p">,</span>
    <span class="n">protein_alignment</span><span class="o">=</span><span class="n">prot_align</span><span class="p">,</span>
    <span class="n">enriched_suffix</span><span class="o">=</span><span class="s1">&#39;_enriched.txt&#39;</span><span class="p">,</span>
    <span class="n">align_header</span><span class="o">=</span><span class="s1">&#39;AlignPos&#39;</span><span class="p">,</span>
    <span class="n">align_delim</span><span class="o">=</span><span class="s1">&#39;~&#39;</span><span class="p">,</span>
    <span class="n">color_scheme</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="cli-usage highlight-default notranslate" id="usage-6"><div class="highlight"><pre><span></span><span class="n">qiime</span> <span class="n">ps</span><span class="o">-</span><span class="n">plot</span> <span class="n">proteinHeatmap</span> \
  <span class="o">--</span><span class="n">i</span><span class="o">-</span><span class="n">enriched</span><span class="o">-</span><span class="nb">dir</span> <span class="n">peptide</span><span class="o">-</span><span class="n">enrichment</span><span class="o">.</span><span class="n">qza</span> \
  <span class="o">--</span><span class="n">i</span><span class="o">-</span><span class="n">protein</span><span class="o">-</span><span class="n">alignment</span> <span class="n">prot</span><span class="o">-</span><span class="n">align</span><span class="o">.</span><span class="n">qza</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">enriched</span><span class="o">-</span><span class="n">suffix</span> <span class="n">_enriched</span><span class="o">.</span><span class="n">txt</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">align</span><span class="o">-</span><span class="n">header</span> <span class="n">AlignPos</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">align</span><span class="o">-</span><span class="n">delim</span> <span class="s1">&#39;~&#39;</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">color</span><span class="o">-</span><span class="n">scheme</span> <span class="n">viridis</span> \
  <span class="o">--</span><span class="n">o</span><span class="o">-</span><span class="n">visualization</span> <span class="n">protein</span><span class="o">-</span><span class="n">heat</span><span class="o">-</span><span class="nb">map</span><span class="o">.</span><span class="n">qzv</span>
</pre></div>
</div>
<div class="raw-usage highlight-default notranslate" id="usage-9"><div class="highlight"><pre><span></span><span class="n">protHeatMap</span><span class="p">,</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
 <span class="n">use</span><span class="o">.</span><span class="n">UsageAction</span><span class="p">(</span><span class="n">plugin_id</span><span class="o">=</span><span class="s1">&#39;ps_plot&#39;</span><span class="p">,</span> <span class="n">action_id</span><span class="o">=</span><span class="s1">&#39;proteinHeatmap&#39;</span><span class="p">),</span>
 <span class="n">use</span><span class="o">.</span><span class="n">UsageInputs</span><span class="p">(</span>
     <span class="n">enriched_dir</span> <span class="o">=</span> <span class="n">peptide_enrichment</span><span class="p">,</span>
     <span class="n">protein_alignment</span> <span class="o">=</span> <span class="n">prot_align</span><span class="p">,</span>
     <span class="n">enriched_suffix</span> <span class="o">=</span> <span class="s1">&#39;_enriched.txt&#39;</span><span class="p">,</span>
     <span class="n">align_header</span> <span class="o">=</span> <span class="s1">&#39;AlignPos&#39;</span><span class="p">,</span>
     <span class="n">align_delim</span> <span class="o">=</span> <span class="s1">&#39;~&#39;</span><span class="p">,</span>
     <span class="n">color_scheme</span> <span class="o">=</span> <span class="s1">&#39;viridis&#39;</span>
 <span class="p">),</span>
 <span class="n">use</span><span class="o">.</span><span class="n">UsageOutputNames</span><span class="p">(</span>
     <span class="n">visualization</span> <span class="o">=</span> <span class="s2">&quot;protein_heat_map&quot;</span>
 <span class="p">)</span>
 <span class="p">)</span>
</pre></div>
</div>
<div class="galaxy-usage compound" id="usage-7">
<dl>
<dt>Using the <code class="docutils literal notranslate"><span class="pre">qiime2</span> <span class="pre">ps-plot</span> <span class="pre">proteinHeatmap</span></code> tool:</dt><dd><ol class="arabic simple">
<li><p>Set <em>“enriched_dir”</em> to <code class="docutils literal notranslate"><span class="pre">#:</span> <span class="pre">peptide-enrichment.qza</span></code></p></li>
<li><p>Set <em>“protein_alignment”</em> to <code class="docutils literal notranslate"><span class="pre">#:</span> <span class="pre">prot-align.qza</span></code></p></li>
<li><p>Expand the <code class="docutils literal notranslate"><span class="pre">additional</span> <span class="pre">options</span></code> section</p>
<ol class="arabic simple">
<li><p>Leave <em>“enriched_suffix”</em> as its default value of <code class="docutils literal notranslate"><span class="pre">_enriched.txt</span></code></p></li>
<li><p>Leave <em>“align_header”</em> as its default value of <code class="docutils literal notranslate"><span class="pre">AlignPos</span></code></p></li>
<li><p>Leave <em>“align_delim”</em> as its default value of <code class="docutils literal notranslate"><span class="pre">~</span></code></p></li>
<li><p>Leave <em>“color_scheme”</em> as its default value of <code class="docutils literal notranslate"><span class="pre">viridis</span></code></p></li>
</ol>
</li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Execute</span></code> button.</p></li>
</ol>
</dd>
<dt>Once completed, for the new entry in your history, use the <code class="docutils literal notranslate"><span class="pre">Edit</span></code> button to set the name as follows:</dt><dd><p>(Renaming is optional, but it will make any subsequent steps easier to complete.)</p>
<table class="docutils align-left">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>History Name</p></th>
<th class="head"><p><em>“Name”</em> to set (be sure to press <code class="docutils literal notranslate"><span class="pre">Save</span></code>)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">#:</span> <span class="pre">qiime2</span> <span class="pre">ps-plot</span> <span class="pre">proteinHeatmap</span> <span class="pre">[...]</span> <span class="pre">:</span> <span class="pre">visualization.qzv</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">protein-heat-map.qzv</span></code></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="exec-usage compound" id="usage-8">
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">protein-heat-map.qzv</span></code><span> | </span><a class="reference external" href="https://view.qiime2.org?src=https%3A%2F%2Fladnerlab.github.io%2Fpepsirf-q2-plugin-docs%2Fdata%2Ftutorials%2Fps-plot%2Fprotein-heat-map.qzv"><span>view</span></a><span> | </span><a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/protein-heat-map.qzv"><span>download</span></a></p></li>
</ul>
</div>
</section>
<section id="mutant-scatters">
<h2>Mutant Scatters<a class="headerlink" href="#mutant-scatters" title="Permalink to this headline">¶</a></h2>
<span class="usage-selector"></span><p>Here we will test q2-ps-plot’s proteinHeatmap module by running the following command:</p>
<div class="python3-usage highlight-default notranslate" id="usage-10"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qiime2</span> <span class="kn">import</span> <span class="n">Metadata</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/metadata.tsv&#39;</span>
<span class="n">fn</span> <span class="o">=</span> <span class="s1">&#39;metadata.tsv&#39;</span>
<span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
<span class="n">metadata_md</span> <span class="o">=</span> <span class="n">Metadata</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/samples.tsv&#39;</span>
<span class="n">fn</span> <span class="o">=</span> <span class="s1">&#39;samples.tsv&#39;</span>
<span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
<span class="n">samples_md</span> <span class="o">=</span> <span class="n">Metadata</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/zscore.qza&#39;</span>
<span class="n">fn</span> <span class="o">=</span> <span class="s1">&#39;zscore.qza&#39;</span>
<span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
<span class="n">zscore</span> <span class="o">=</span> <span class="n">Artifact</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>

<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/reference.qza&#39;</span>
<span class="n">fn</span> <span class="o">=</span> <span class="s1">&#39;reference.qza&#39;</span>
<span class="n">request</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">fn</span><span class="p">)</span>
<span class="n">reference</span> <span class="o">=</span> <span class="n">Artifact</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
</pre></div>
</div>
<div class="cli-usage highlight-default notranslate" id="usage-11"><div class="highlight"><pre><span></span><span class="n">wget</span> \
  <span class="o">-</span><span class="n">O</span> <span class="s1">&#39;metadata.tsv&#39;</span> \
  <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/metadata.tsv&#39;</span>

<span class="n">wget</span> \
  <span class="o">-</span><span class="n">O</span> <span class="s1">&#39;samples.tsv&#39;</span> \
  <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/samples.tsv&#39;</span>

<span class="n">wget</span> \
  <span class="o">-</span><span class="n">O</span> <span class="s1">&#39;zscore.qza&#39;</span> \
  <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/zscore.qza&#39;</span>

<span class="n">wget</span> \
  <span class="o">-</span><span class="n">O</span> <span class="s1">&#39;reference.qza&#39;</span> \
  <span class="s1">&#39;https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/reference.qza&#39;</span>
</pre></div>
</div>
<div class="raw-usage highlight-default notranslate" id="usage-14"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">metadata_factory</span><span class="p">():</span>
   <span class="kn">import</span> <span class="nn">qiime2</span>
   <span class="k">return</span> <span class="n">qiime2</span><span class="o">.</span><span class="n">Metadata</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;source/data/metadata.tsv&quot;</span><span class="p">)</span>

<span class="n">metadata</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">init_metadata</span><span class="p">(</span><span class="s1">&#39;metadata&#39;</span><span class="p">,</span> <span class="n">metadata_factory</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">samples_factory</span><span class="p">():</span>
     <span class="kn">import</span> <span class="nn">qiime2</span>
     <span class="k">return</span> <span class="n">qiime2</span><span class="o">.</span><span class="n">Metadata</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;source/data/sample_source.tsv&quot;</span><span class="p">)</span>

<span class="n">samples</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">init_metadata</span><span class="p">(</span><span class="s1">&#39;samples&#39;</span><span class="p">,</span> <span class="n">samples_factory</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">zscore_factory</span><span class="p">():</span>
   <span class="kn">import</span> <span class="nn">qiime2</span>
   <span class="k">return</span> <span class="n">qiime2</span><span class="o">.</span><span class="n">Artifact</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;source/data/zscores.qza&quot;</span><span class="p">)</span>

<span class="n">zscore</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">init_artifact</span><span class="p">(</span><span class="s2">&quot;zscore&quot;</span><span class="p">,</span> <span class="n">zscore_factory</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">reference_factory</span><span class="p">():</span>
   <span class="kn">import</span> <span class="nn">qiime2</span>
   <span class="k">return</span> <span class="n">qiime2</span><span class="o">.</span><span class="n">Artifact</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;source/data/references.qza&quot;</span><span class="p">)</span>

<span class="n">reference</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">init_artifact</span><span class="p">(</span><span class="s2">&quot;reference&quot;</span><span class="p">,</span> <span class="n">reference_factory</span><span class="p">)</span>
</pre></div>
</div>
<div class="galaxy-usage compound" id="usage-12">
<dl class="simple">
<dt>Using the <code class="docutils literal notranslate"><span class="pre">Upload</span> <span class="pre">Data</span></code> tool:</dt><dd><ol class="arabic simple">
<li><p>On the first tab (<strong>Regular</strong>), press the <code class="docutils literal notranslate"><span class="pre">Paste/Fetch</span></code> data button at the bottom.</p>
<ol class="arabic simple">
<li><p>Set <em>“Name”</em> (first text-field) to: <code class="docutils literal notranslate"><span class="pre">metadata.tsv</span></code></p></li>
<li><p>In the larger text-area, copy-and-paste: <a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/metadata.tsv">https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/metadata.tsv</a></p></li>
<li><p>(<em>“Type”</em>, <em>“Genome”</em>, and <em>“Settings”</em> can be ignored)</p></li>
</ol>
</li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Start</span></code> button at the bottom.</p></li>
</ol>
</dd>
<dt>Using the <code class="docutils literal notranslate"><span class="pre">Upload</span> <span class="pre">Data</span></code> tool:</dt><dd><ol class="arabic simple">
<li><p>On the first tab (<strong>Regular</strong>), press the <code class="docutils literal notranslate"><span class="pre">Paste/Fetch</span></code> data button at the bottom.</p>
<ol class="arabic simple">
<li><p>Set <em>“Name”</em> (first text-field) to: <code class="docutils literal notranslate"><span class="pre">samples.tsv</span></code></p></li>
<li><p>In the larger text-area, copy-and-paste: <a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/samples.tsv">https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/samples.tsv</a></p></li>
<li><p>(<em>“Type”</em>, <em>“Genome”</em>, and <em>“Settings”</em> can be ignored)</p></li>
</ol>
</li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Start</span></code> button at the bottom.</p></li>
</ol>
</dd>
<dt>Using the <code class="docutils literal notranslate"><span class="pre">Upload</span> <span class="pre">Data</span></code> tool:</dt><dd><ol class="arabic simple">
<li><p>On the first tab (<strong>Regular</strong>), press the <code class="docutils literal notranslate"><span class="pre">Paste/Fetch</span></code> data button at the bottom.</p>
<ol class="arabic simple">
<li><p>Set <em>“Name”</em> (first text-field) to: <code class="docutils literal notranslate"><span class="pre">zscore.qza</span></code></p></li>
<li><p>In the larger text-area, copy-and-paste: <a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/zscore.qza">https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/zscore.qza</a></p></li>
<li><p>(<em>“Type”</em>, <em>“Genome”</em>, and <em>“Settings”</em> can be ignored)</p></li>
</ol>
</li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Start</span></code> button at the bottom.</p></li>
</ol>
</dd>
<dt>Using the <code class="docutils literal notranslate"><span class="pre">Upload</span> <span class="pre">Data</span></code> tool:</dt><dd><ol class="arabic simple">
<li><p>On the first tab (<strong>Regular</strong>), press the <code class="docutils literal notranslate"><span class="pre">Paste/Fetch</span></code> data button at the bottom.</p>
<ol class="arabic simple">
<li><p>Set <em>“Name”</em> (first text-field) to: <code class="docutils literal notranslate"><span class="pre">reference.qza</span></code></p></li>
<li><p>In the larger text-area, copy-and-paste: <a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/reference.qza">https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/reference.qza</a></p></li>
<li><p>(<em>“Type”</em>, <em>“Genome”</em>, and <em>“Settings”</em> can be ignored)</p></li>
</ol>
</li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Start</span></code> button at the bottom.</p></li>
</ol>
</dd>
</dl>
</div>
<div class="exec-usage compound" id="usage-13">
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">metadata.tsv</span></code><span> | </span><a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/metadata.tsv"><span>download</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">samples.tsv</span></code><span> | </span><a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/samples.tsv"><span>download</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zscore.qza</span></code><span> | </span><a class="reference external" href="https://view.qiime2.org?src=https%3A%2F%2Fladnerlab.github.io%2Fpepsirf-q2-plugin-docs%2Fdata%2Ftutorials%2Fps-plot%2Fzscore.qza"><span>view</span></a><span> | </span><a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/zscore.qza"><span>download</span></a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reference.qza</span></code><span> | </span><a class="reference external" href="https://view.qiime2.org?src=https%3A%2F%2Fladnerlab.github.io%2Fpepsirf-q2-plugin-docs%2Fdata%2Ftutorials%2Fps-plot%2Freference.qza"><span>view</span></a><span> | </span><a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/reference.qza"><span>download</span></a></p></li>
</ul>
</div>
<div class="python3-usage highlight-default notranslate" id="usage-15"><div class="highlight"><pre><span></span><span class="n">samples_col_mdc</span> <span class="o">=</span> <span class="n">samples_md</span><span class="o">.</span><span class="n">get_column</span><span class="p">(</span><span class="s1">&#39;Source&#39;</span><span class="p">)</span>
<span class="n">mutant_scatter_viz</span><span class="p">,</span> <span class="o">=</span> <span class="n">ps_plot_actions</span><span class="o">.</span><span class="n">mutantScatters</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="n">samples_col_mdc</span><span class="p">,</span>
    <span class="n">metadata</span><span class="o">=</span><span class="n">metadata_md</span><span class="p">,</span>
    <span class="n">zscore</span><span class="o">=</span><span class="n">zscore</span><span class="p">,</span>
    <span class="n">reference_file</span><span class="o">=</span><span class="n">reference</span><span class="p">,</span>
    <span class="n">peptide_header</span><span class="o">=</span><span class="s1">&#39;SampleID&#39;</span><span class="p">,</span>
    <span class="n">reference_header</span><span class="o">=</span><span class="s1">&#39;Reference&#39;</span><span class="p">,</span>
    <span class="n">x_axis_header</span><span class="o">=</span><span class="s1">&#39;Position&#39;</span><span class="p">,</span>
    <span class="n">category_header</span><span class="o">=</span><span class="s1">&#39;Category1&#39;</span><span class="p">,</span>
    <span class="n">label_header</span><span class="o">=</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span>
    <span class="n">wobble</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">scatter_boxplot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="cli-usage highlight-default notranslate" id="usage-16"><div class="highlight"><pre><span></span><span class="n">qiime</span> <span class="n">ps</span><span class="o">-</span><span class="n">plot</span> <span class="n">mutantScatters</span> \
  <span class="o">--</span><span class="n">m</span><span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">file</span> <span class="n">samples</span><span class="o">.</span><span class="n">tsv</span> \
  <span class="o">--</span><span class="n">m</span><span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">column</span> <span class="n">Source</span> \
  <span class="o">--</span><span class="n">m</span><span class="o">-</span><span class="n">metadata</span><span class="o">-</span><span class="n">file</span> <span class="n">metadata</span><span class="o">.</span><span class="n">tsv</span> \
  <span class="o">--</span><span class="n">i</span><span class="o">-</span><span class="n">zscore</span> <span class="n">zscore</span><span class="o">.</span><span class="n">qza</span> \
  <span class="o">--</span><span class="n">i</span><span class="o">-</span><span class="n">reference</span><span class="o">-</span><span class="n">file</span> <span class="n">reference</span><span class="o">.</span><span class="n">qza</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">peptide</span><span class="o">-</span><span class="n">header</span> <span class="n">SampleID</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">reference</span><span class="o">-</span><span class="n">header</span> <span class="n">Reference</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">x</span><span class="o">-</span><span class="n">axis</span><span class="o">-</span><span class="n">header</span> <span class="n">Position</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">category</span><span class="o">-</span><span class="n">header</span> <span class="n">Category1</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">label</span><span class="o">-</span><span class="n">header</span> <span class="n">Label</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">wobble</span> \
  <span class="o">--</span><span class="n">p</span><span class="o">-</span><span class="n">scatter</span><span class="o">-</span><span class="n">boxplot</span> \
  <span class="o">--</span><span class="n">o</span><span class="o">-</span><span class="n">visualization</span> <span class="n">mutant</span><span class="o">-</span><span class="n">scatter</span><span class="o">.</span><span class="n">qzv</span>
</pre></div>
</div>
<div class="raw-usage highlight-default notranslate" id="usage-19"><div class="highlight"><pre><span></span><span class="n">samples_col</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">get_metadata_column</span><span class="p">(</span><span class="s1">&#39;samples_col&#39;</span><span class="p">,</span> <span class="s1">&#39;Source&#39;</span><span class="p">,</span> <span class="n">samples</span><span class="p">)</span>

<span class="n">mutantScatter</span><span class="p">,</span> <span class="o">=</span> <span class="n">use</span><span class="o">.</span><span class="n">action</span><span class="p">(</span>
<span class="n">use</span><span class="o">.</span><span class="n">UsageAction</span><span class="p">(</span><span class="n">plugin_id</span><span class="o">=</span><span class="s1">&#39;ps_plot&#39;</span><span class="p">,</span> <span class="n">action_id</span><span class="o">=</span><span class="s1">&#39;mutantScatters&#39;</span><span class="p">),</span>
<span class="n">use</span><span class="o">.</span><span class="n">UsageInputs</span><span class="p">(</span>
     <span class="n">source</span> <span class="o">=</span> <span class="n">samples_col</span><span class="p">,</span>
     <span class="n">metadata</span> <span class="o">=</span> <span class="n">metadata</span><span class="p">,</span>
     <span class="n">zscore</span> <span class="o">=</span> <span class="n">zscore</span><span class="p">,</span>
     <span class="n">reference_file</span> <span class="o">=</span> <span class="n">reference</span><span class="p">,</span>
     <span class="n">peptide_header</span> <span class="o">=</span> <span class="s2">&quot;SampleID&quot;</span><span class="p">,</span>
     <span class="n">reference_header</span> <span class="o">=</span> <span class="s2">&quot;Reference&quot;</span><span class="p">,</span>
     <span class="n">x_axis_header</span> <span class="o">=</span> <span class="s2">&quot;Position&quot;</span><span class="p">,</span>
     <span class="n">category_header</span> <span class="o">=</span> <span class="s2">&quot;Category1&quot;</span><span class="p">,</span>
     <span class="n">label_header</span> <span class="o">=</span> <span class="s2">&quot;Label&quot;</span><span class="p">,</span>
     <span class="n">wobble</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
     <span class="n">scatter_boxplot</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">),</span>
<span class="n">use</span><span class="o">.</span><span class="n">UsageOutputNames</span><span class="p">(</span>
     <span class="n">visualization</span> <span class="o">=</span> <span class="s2">&quot;mutant_scatter&quot;</span>
<span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="galaxy-usage compound" id="usage-17">
<dl>
<dt>Using the <code class="docutils literal notranslate"><span class="pre">qiime2</span> <span class="pre">ps-plot</span> <span class="pre">mutantScatters</span></code> tool:</dt><dd><ol class="arabic simple">
<li><p>Set <em>“zscore”</em> to <code class="docutils literal notranslate"><span class="pre">#:</span> <span class="pre">zscore.qza</span></code></p></li>
<li><p>Set <em>“reference_file”</em> to <code class="docutils literal notranslate"><span class="pre">#:</span> <span class="pre">reference.qza</span></code></p></li>
<li><p>For <em>“source”</em>:</p>
<ol class="arabic simple">
<li><p>Leave as <code class="docutils literal notranslate"><span class="pre">Metadata</span> <span class="pre">from</span> <span class="pre">TSV</span></code></p></li>
<li><p>Set <em>“Metadata Source”</em> to <code class="docutils literal notranslate"><span class="pre">samples.tsv</span></code></p></li>
<li><p>Set <em>“Column Name”</em> to <code class="docutils literal notranslate"><span class="pre">Source</span></code></p></li>
</ol>
</li>
<li><p>For <em>“metadata”</em>:</p>
<ul class="simple">
<li><p>Perform the following steps.</p>
<ol class="arabic simple">
<li><p>Leave as <code class="docutils literal notranslate"><span class="pre">Metadata</span> <span class="pre">from</span> <span class="pre">TSV</span></code></p></li>
<li><p>Set <em>“Metadata Source”</em> to <code class="docutils literal notranslate"><span class="pre">metadata.tsv</span></code></p></li>
</ol>
</li>
</ul>
</li>
<li><p>Expand the <code class="docutils literal notranslate"><span class="pre">additional</span> <span class="pre">options</span></code> section</p>
<ol class="arabic simple">
<li><p>Leave <em>“peptide_header”</em> as its default value of <code class="docutils literal notranslate"><span class="pre">SampleID</span></code></p></li>
<li><p>Leave <em>“reference_header”</em> as its default value of <code class="docutils literal notranslate"><span class="pre">Reference</span></code></p></li>
<li><p>Leave <em>“x_axis_header”</em> as its default value of <code class="docutils literal notranslate"><span class="pre">Position</span></code></p></li>
<li><p>Set <em>“category_header”</em> to <code class="docutils literal notranslate"><span class="pre">Category1</span></code></p></li>
<li><p>Leave <em>“label_header”</em> as its default value of <code class="docutils literal notranslate"><span class="pre">Label</span></code></p></li>
<li><p>Set <em>“wobble”</em> to <code class="docutils literal notranslate"><span class="pre">Yes</span></code></p></li>
<li><p>Set <em>“scatter_boxplot”</em> to <code class="docutils literal notranslate"><span class="pre">Yes</span></code></p></li>
</ol>
</li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">Execute</span></code> button.</p></li>
</ol>
</dd>
<dt>Once completed, for the new entry in your history, use the <code class="docutils literal notranslate"><span class="pre">Edit</span></code> button to set the name as follows:</dt><dd><p>(Renaming is optional, but it will make any subsequent steps easier to complete.)</p>
<table class="docutils align-left">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>History Name</p></th>
<th class="head"><p><em>“Name”</em> to set (be sure to press <code class="docutils literal notranslate"><span class="pre">Save</span></code>)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">#:</span> <span class="pre">qiime2</span> <span class="pre">ps-plot</span> <span class="pre">mutantScatters</span> <span class="pre">[...]</span> <span class="pre">:</span> <span class="pre">visualization.qzv</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">mutant-scatter.qzv</span></code></p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="exec-usage compound" id="usage-18">
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">mutant-scatter.qzv</span></code><span> | </span><a class="reference external" href="https://view.qiime2.org?src=https%3A%2F%2Fladnerlab.github.io%2Fpepsirf-q2-plugin-docs%2Fdata%2Ftutorials%2Fps-plot%2Fmutant-scatter.qzv"><span>view</span></a><span> | </span><a class="reference external" href="https://ladnerlab.github.io/pepsirf-q2-plugin-docs/data/tutorials/ps-plot/mutant-scatter.qzv"><span>download</span></a></p></li>
</ul>
</div>
</section>
</section>


      </div>
      

      
      <div id="sidebar" class="col-lg-2 col-md-2 col-sm-12 col-xs-12 side pull-left">
        
<h3><a href="../../">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../pepsirf-tutorial/">DiffEnrich Analysis Tutorial - Multiple Interface Edition</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Ps-plot Tutorials - Multiple Interface Edition</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/">Available plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Pepsirf_Plugins/">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../export-imports/">Imports and Exports</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
      </div>
      
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Ladner Labs.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </div>
  <script src="../../_static/clipboard-driver.js"></script>
  <script src="/versions.js" charset="utf-8"></script>
  </body>
</html>